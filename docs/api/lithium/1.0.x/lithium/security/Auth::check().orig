<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />	<title>lithium\security\Auth::check() – Framework API v1.0.x – Documentation – li3 PHP-Framework</title>
		<link rel="stylesheet" href="/assets/v:__PROJECT_VERSION_BUILD__xyzz/css/reset.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anonymous+Pro:400,700,400italic,700italic" />
	<link rel="stylesheet" href="/assets/v:__PROJECT_VERSION_BUILD__xyzz/css/u1m.css" />
	<link rel="stylesheet" href="/assets/v:__PROJECT_VERSION_BUILD__xyzz/css/li3_docs.css" />
	<link rel="stylesheet" href="/assets/v:__PROJECT_VERSION_BUILD__xyzz/css/highlight.css" />
	
	
	<script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
	<script src="/assets/v:__PROJECT_VERSION_BUILD__xyzz/js/base.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
	
	
	<link rel="icon" href="/assets/ico/site.png">

		<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-11048416-4', 'auto');
	  ga('send', 'pageview');
	</script>
	</head>
<body class="layout-default li3-docs">
		<div id="container">
			<header class="main">
	<div class="left">
		<h1><a href="/" class="li3-logo">li3</a></h1>
	</div>
	<div class="right">
		<nav class="main-nav"><a href="http://news.li3.me">News</a><a href="/docs" class="active">Documentation</a><a href="/versions">Versions</a><a href="/present">Presentations</a><a href="/support">Community</a><a href="/development">Development</a></nav>	</div>
</header>							<nav class="crumbs">
	<ul itemscope itemtype="http://schema.org/BreadcrumbList">
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="1" />
							<a href="/docs" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Documentation</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="2" />
							<a href="/docs/api/lithium/1.0.x/lithium" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Framework API (1.0.x)</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="3" />
							<a href="/docs/api/lithium/1.0.x/lithium" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">lithium</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="4" />
							<a href="/docs/api/lithium/1.0.x/lithium/security" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">security</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="5" />
							<a href="/docs/api/lithium/1.0.x/lithium/security/Auth" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Auth</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="6" />
							<span itemscope itemprop="item" itemtype="http://schema.org/Thing">
					<span itemprop="name">check()</span>
				</span>
					</li>
		</ul>
</nav>						<div id="content">
				<article class="apis-view has-aside-right">

	<nav class="aside aside-right">
			<h3 class="h-gamma">Contents</h3>
		<ul>
			<li class="nav-up"><a href="/docs/api/lithium/1.0.x/lithium/security/Auth" rel="up">../</a>		</ul>
	
													
										</nav>
	<div class="body">
			<h1 class="h-alpha">
		<a href="/docs/api/lithium/1.0.x/lithium" class="symbol-segment">lithium</a>\<a href="/docs/api/lithium/1.0.x/lithium/security" class="symbol-segment">security</a>\<a href="/docs/api/lithium/1.0.x/lithium/security/Auth" class="symbol-segment">Auth</a>::check()		</h1>

		<section class="under">
															<div class="tags">
													<span class="tag public">public</span>
													<span class="tag">static</span>
								<span class="tag">method</span>
			</div>
		</section>

					
			<section>
									<div class="summary">
						<p>Performs an authentication check against the specified configuration, and writes the
resulting user information to the session such that credentials are not required for
subsequent authentication checks, and user information is returned directly from the session.</p>
					</div>
				
							</section>

						<section id="params">
				<h3 class="h-beta">Parameters</h3>
				<ul class="parameters">
											<li>
							<span class="type">string</span>
							<code class="name">$name</code>
															<span class="parameter">
									<p>The name of the <code>Auth</code> configuration/adapter to check against.</p>
								</span>
													</li>
											<li>
							<span class="type">mixed</span>
							<code class="name">$credentials</code>
															<span class="parameter">
									<p>A container for the authentication credentials used in this check.
This will vary by adapter, but generally will be an object or array containing
a user name and password. In the case of the <code>Form</code> adapter, it contains a
<code>Request</code> object containing <code>POST</code> data with user login information.</p>
								</span>
													</li>
											<li>
							<span class="type">array</span>
							<code class="name">$options</code>
															<span class="parameter">
									<p>Additional options used when performing the authentication check. The
options available will vary by adapter, please consult the documentation for the
<code>check()</code> method of the adapter you intend to use. The global options for this
method are:</p>
<ul>
<li><code>'checkSession'</code> <em>boolean</em>: By default, the session store configured for the
adapter will always be queried first, to see if an authentication check has
already been performed during the current user session. If yes, then the
session data will be returned. By setting <code>'checkSession'</code> to <code>false</code>,
session checks are bypassed and the credentials provided are always checked
against the adapter directly.</li>
<li><code>'writeSession'</code> <em>boolean</em>: Upon a successful credentials check, the returned
user information is, by default, written to the session. Set this to <code>false</code>
to disable session writing for this authentication check.</li>
<li><code>'persist'</code> <em>array</em>: A list of fields that should be stored in the session.
If no list is provided will store all fields in the session except
the <code>'password'</code> field.</li>
</ul>
								</span>
													</li>
									</ul>
			</section>
			
						<section id="return">
				<h3 class="h-beta">Returns</h3>
				<span class="type">array</span>
									<span class="return">
						<p>After a successful credential check against the adapter (or a successful
lookup against the current session), returns an array of user information from the
storage backend used by the configured adapter.</p>
					</span>
							</section>
			
						<section id="filter" class="flag">
				<h3 class="h-beta">
					Filter
					<nav class="headline-nav">
						<a href="http://li3.me/docs/book/manual/1.x/common-tasks/filters">see how to use filters</a>					</nav>
				</h3>
				<p>
					This method can be filtered.				</p>
			</section>
			
			
			
			
						<section id="source" class="section">
				<h3 class="h-beta">Source</h3>
				<div id="source" class="source-display">
					<div class="source-wrapper">
						<pre class="source-code"><code class="language-php">	public static function check($name, $credentials = null, array $options = array()) {
		$config = static::config($name);
		$defaults = array(
			&#039;checkSession&#039; =&gt; true,
			&#039;writeSession&#039; =&gt; true,
			&#039;persist&#039; =&gt; $config[&#039;session&#039;][&#039;persist&#039;] ?: static::_config(&#039;persist&#039;)
		);

		$options += $defaults;
		$params = compact(&#039;name&#039;, &#039;credentials&#039;, &#039;options&#039;);

		return static::_filter(__FUNCTION__, $params, function($self, $params) {
			extract($params);
			$config = $self::invokeMethod(&#039;_config&#039;, array($name));

			if ($config === null) {
				throw new ConfigException(&quot;Configuration `{$name}` has not been defined.&quot;);
			}
			$session = $config[&#039;session&#039;];

			if ($options[&#039;checkSession&#039;]) {
				if ($data = $session[&#039;class&#039;]::read($session[&#039;key&#039;], $session[&#039;options&#039;])) {
					return $data;
				}
			}

			if (($credentials) &amp;&amp; $data = $self::adapter($name)-&gt;check($credentials, $options)) {
				if ($options[&#039;persist&#039;] &amp;&amp; is_array($data)) {
					$data = array_intersect_key($data, array_fill_keys($options[&#039;persist&#039;], true));
				} elseif (is_array($data)) {
					unset($data[&#039;password&#039;]);
				}
				return ($options[&#039;writeSession&#039;]) ? $self::set($name, $data) : $data;
			}
			return false;
		});
	}</code></pre>
					</div>
				</div>
			</section>
							</div>
	</article>			</div>
		</div>
		<footer class="main">
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>

	<div class="social">
		<a href="https://github.com/unionofrad" target="new">GitHub</a>		<span class="separator">/</span>
		<a href="https://twitter.com/unionofrad" target="new">Twitter</a>		<span class="separator">/</span>
		<a href="http://www.reddit.com/r/li3" target="new">Reddit</a>		<span class="separator">/</span>
		<a href="https://stackoverflow.com/questions/tagged/lithium" target="new">Stack Overflow</a>	</div>
	<div class="testimonial">
		<img src="/assets/v:__PROJECT_VERSION_BUILD__xyzz/img/testimonials/10.png" alt="Testimonial Image" />		<p>I think it's time you started<br />
writing better code.</p>
	</div>
	<div class="copyright">
		Pretty much everything is (c) 2009-2024 and beyond, the <a href="http://unionofrad.org">Union of RAD</a>.	</div>
</footer>	</body>
</body>
</html>
