<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />	<title>lithium\template\Helper – Framework API v1.0.x – Documentation – li3 PHP-Framework</title>
		<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/reset.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anonymous+Pro:400,700,400italic,700italic" />
	<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/u1m.css" />
	<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/li3_docs.css" />
	<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/highlight.css" />
	
	
	<script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
	<script src="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/js/base.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
	
	
	<link rel="icon" href="../../../../../../assets/ico/site.png">

		<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-11048416-4', 'auto');
	  ga('send', 'pageview');
	</script>
	</head>
<body class="layout-default li3-docs">
		<div id="container">
			<header class="main">
	<div class="left">
		<h1><a href="http://li3.me/index.html" class="li3-logo">li3</a></h1>
	</div>
	<div class="right">
		<nav class="main-nav"><a href="http://news.li3.me">News</a><a href="http://li3.me/docs.html" class="active">Documentation</a><a href="http://li3.me/versions.html">Versions</a><a href="http://li3.me/present.html">Presentations</a><a href="http://li3.me/support.html">Community</a><a href="http://li3.me/development.html">Development</a></nav>	</div>
</header>							<nav class="crumbs">
	<ul itemscope itemtype="http://schema.org/BreadcrumbList">
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="1" />
							<a href="http://li3.me/docs.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Documentation</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="2" />
							<a href="http://li3.me/docs/api/lithium/1.0.x/lithium.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Framework API (1.0.x)</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="3" />
							<a href="http://li3.me/docs/api/lithium/1.0.x/lithium.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">lithium</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="4" />
							<a href="http://li3.me/docs/lithium/template.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">template</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="5" />
							<span itemscope itemprop="item" itemtype="http://schema.org/Thing">
					<span itemprop="name">Helper</span>
				</span>
					</li>
		</ul>
</nav>						<div id="content">
				<article class="apis-view has-aside-right">

	<nav class="aside aside-right">
			<h3 class="h-gamma">Contents</h3>
		<ul>
			<li class="nav-up"><a href="http://li3.me/docs/lithium/template.html" rel="up">../</a>		</ul>
	
													
						<h3 class="h-gamma">Methods</h3>
			<ul>
												<li class="method public">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::__construct().html">__construct()</a>												<li class="method protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::_init().html">_init()</a>												<li class="method public">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::escape().html">escape()</a>												<li class="method protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::_options().html">_options()</a>												<li class="method protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::_render().html">_render()</a>												<li class="method protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::_attributes().html">_attributes()</a>												<li class="method protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::_attribute().html">_attribute()</a>												<li class="method public inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::applyFilter()">applyFilter()</a>												<li class="method public inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::invokeMethod()">invokeMethod()</a>												<li class="method public inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::__set_state()">__set_state()</a>												<li class="method public inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::respondsTo().html">respondsTo()</a>												<li class="method protected inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::_instance()">_instance()</a>												<li class="method protected inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::_filter()">_filter()</a>												<li class="method protected inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::_parents()">_parents()</a>												<li class="method protected inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::_stop()">_stop()</a>							</ul>
								<h3 class="h-gamma">Properties</h3>
			<ul>
												<li class="property public">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::$contentMap.html">$contentMap</a>												<li class="property protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::$_strings.html">$_strings</a>												<li class="property protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::$_context.html">$_context</a>												<li class="property protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::$_classes.html">$_classes</a>												<li class="property protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::$_autoConfig.html">$_autoConfig</a>												<li class="property protected">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/Helper::$_minimized.html">$_minimized</a>												<li class="property protected inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::$_config">$_config</a>												<li class="property protected inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::$_methodFilters">$_methodFilters</a>												<li class="property protected inherited">
				<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object::$_parents">$_parents</a>							</ul>
						</nav>
	<div class="body">
			<h1 class="h-alpha">
		<a href="http://li3.me/docs/api/lithium/1.0.x/lithium.html" class="symbol-segment">lithium</a>\<a href="http://li3.me/docs/lithium/template.html" class="symbol-segment">template</a>\Helper		</h1>

		<section class="under">
													<div class="extends">
					<span class="extends__title">Extends</span>
											<a href="http://li3.me/docs/api/lithium/1.0.x/lithium/core/Object.html" class="extends__symbol">lithium\core\Object</a>									</div>
									<div class="tags">
									<span class="tag">abstract</span>
																<span class="tag">class</span>
			</div>
		</section>

					
			<section>
									<div class="summary">
						<p>Abstract class for template helpers to extend.
Supplies the basic functionality of _render and _options,
as well as escaping.</p>
					</div>
				
							</section>

			
			
			
			
			
						<section id="subclasses" class="section">
				<h3 class="h-beta">Subclasses</h3>
				<ul class="subclasses">
											<li><a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/helper/Form.html">lithium\template\helper\Form</a>											<li><a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/helper/Html.html">lithium\template\helper\Html</a>											<li><a href="http://li3.me/docs/api/lithium/1.0.x/lithium/template/helper/Security.html">lithium\template\helper\Security</a>									</ul>
			</section>
			
						<section id="source" class="section">
				<h3 class="h-beta">Source</h3>
				<div id="source" class="source-display">
					<div class="source-wrapper">
						<pre class="source-code"><code class="language-php">abstract class Helper extends \lithium\core\Object {

	/**
	 * Maps helper method names to content types as defined by the `Media` class, where key are
	 * method names, and values are the content type that the method name outputs a link to.
	 *
	 * @var array
	 */
	public $contentMap = array();

	/**
	 * Holds string templates which will be merged into the rendering context.
	 *
	 * @var array
	 */
	protected $_strings = array();

	/**
	 * The Renderer object this Helper is bound to.
	 *
	 * @var lithium\template\view\Renderer
	 * @see lithium\template\view\Renderer
	 */
	protected $_context = null;

	/**
	 * This property can be overwritten with any class dependencies a helper subclass has.
	 *
	 * @var array
	 */
	protected $_classes = array();

	/**
	 * Auto configuration properties.
	 *
	 * @var array
	 */
	protected $_autoConfig = array(&#039;classes&#039; =&gt; &#039;merge&#039;, &#039;context&#039;);

	/**
	 * List of minimized HTML attributes.
	 *
	 * @var array
	 */
	protected $_minimized = array(
		&#039;compact&#039;, &#039;checked&#039;, &#039;declare&#039;, &#039;readonly&#039;, &#039;disabled&#039;, &#039;selected&#039;, &#039;defer&#039;, &#039;ismap&#039;,
		&#039;nohref&#039;, &#039;noshade&#039;, &#039;nowrap&#039;, &#039;multiple&#039;, &#039;noresize&#039;, &#039;async&#039;, &#039;autofocus&#039;
	);

	/**
	 * Constructor.
	 *
	 * @param array $config Configuration options.
	 * @return void
	 */
	public function __construct(array $config = array()) {
		$defaults = array(&#039;handlers&#039; =&gt; array(), &#039;context&#039; =&gt; null);
		parent::__construct($config + $defaults);
	}

	/**
	 * Imports local string definitions into rendering context.
	 *
	 * @return void
	 */
	protected function _init() {
		parent::_init();

		if (!$this-&gt;_context) {
			return;
		}
		$this-&gt;_context-&gt;strings($this-&gt;_strings);

		if ($this-&gt;_config[&#039;handlers&#039;]) {
			$this-&gt;_context-&gt;handlers($this-&gt;_config[&#039;handlers&#039;]);
		}
	}

	/**
	 * Escapes values according to the output type of the rendering context. Helpers that output to
	 * non-HTML/XML contexts should override this method accordingly.
	 *
	 * @param string $value
	 * @param mixed $method
	 * @param array $options
	 * @return mixed
	 */
	public function escape($value, $method = null, array $options = array()) {
		$defaults = array(&#039;escape&#039; =&gt; true);
		$options += $defaults;

		if ($options[&#039;escape&#039;] === false) {
			return $value;
		}
		if (is_array($value)) {
			return array_map(array($this, __FUNCTION__), $value);
		}
		return htmlspecialchars($value, ENT_QUOTES, &#039;UTF-8&#039;);
	}

	/**
	 * Takes the defaults and current options, merges them and returns options which have
	 * the default keys removed and full set of options as the scope.
	 *
	 * @param array $defaults
	 * @param array $scope the complete set of options
	 * @return array $scope, $options
	 */
	protected function _options(array $defaults, array $scope) {
		$scope += $defaults;
		$options = array_diff_key($scope, $defaults);
		return array($scope, $options);
	}

	/**
	 * Render a string template after applying context filters
	 * Use examples in the Html::link() method:
	 * `return $this-&gt;_render(__METHOD__, &#039;link&#039;, compact(&#039;title&#039;, &#039;url&#039;, &#039;options&#039;), $scope);`
	 *
	 * @param string $method name of method that is calling the render (for context filters)
	 * @param string $string template key (in Helper::_strings) to render
	 * @param array $params associated array of template inserts {:key} will be replaced by value
	 * @param array $options Available options:
	 *              - `&#039;handlers&#039;` _array_: Before inserting `$params` inside the string template,
	 *              `$this-&gt;_context`&#039;s handlers are applied to each value of `$params` according
	 *              to the key (e.g `$params[&#039;url&#039;]`, which is processed by the `&#039;url&#039;` handler
	 *              via `$this-&gt;_context-&gt;applyHandler()`).
	 *              The `&#039;handlers&#039;` option allow to set custom mapping beetween `$params`&#039;s key and
	 *              `$this-&gt;_context`&#039;s handlers. e.g. the following handler:
	 *              `&#039;handlers&#039; =&gt; array(&#039;url&#039; =&gt; &#039;path&#039;)` will make `$params[&#039;url&#039;]` to be
	 *              processed by the `&#039;path&#039;` handler instead of the `&#039;url&#039;` one.
	 * @return string Rendered HTML
	 */
	protected function _render($method, $string, $params, array $options = array()) {
		$strings = $this-&gt;_strings;

		if (isset($params[&#039;options&#039;][&#039;scope&#039;])) {
			$options[&#039;scope&#039;] = $params[&#039;options&#039;][&#039;scope&#039;];
			unset($params[&#039;options&#039;][&#039;scope&#039;]);
		}

		if ($this-&gt;_context) {
			foreach ($params as $key =&gt; $value) {
				$handler = isset($options[&#039;handlers&#039;][$key]) ? $options[&#039;handlers&#039;][$key] : $key;
				$params[$key] = $this-&gt;_context-&gt;applyHandler(
					$this, $method, $handler, $value, $options
				);
			}
			$strings = $this-&gt;_context-&gt;strings();
		}
		return String::insert(isset($strings[$string]) ? $strings[$string] : $string, $params);
	}

	/**
	 * Converts a set of parameters to HTML attributes into a string.
	 *
	 * @see lithium\template\view\Renderer::__call()
	 * @param array|string $params The parameters where key is the attribute name and
	 *                     the value the attribute value. When string will simply prepend
	 *                     with the prepend-string (by default `&#039; &#039;`) unless $params is
	 *                     falsey in which case an empty string is returned. This
	 *                     alternative syntax is used by the method internally.
	 * @param string $method When used as a context handler, the method the handler was
	 *               called for I.e. `&#039;wrap&#039;`. Currently not used by the method.
	 * @param array $options Available options are:
	 *              - `&#039;escape&#039;` _boolean_: Indicates whether the output should be
	 *                HTML-escaped. Defaults to `true`.
	 *              - `&#039;prepend&#039;` _string_: String to prepend to each attribute pair.
	 *                and the final result. Defaults to `&#039; &#039;`.
	 *              - `&#039;append&#039;` _string_: String to append to result. Defaults to `&#039;&#039;`.
	 * @return string Attribute string.
	 */
	protected function _attributes($params, $method = null, array $options = array()) {
		$defaults = array(&#039;escape&#039; =&gt; true, &#039;prepend&#039; =&gt; &#039; &#039;, &#039;append&#039; =&gt; &#039;&#039;);
		$options += $defaults;
		$result = array();

		if (!is_array($params)) {
			return !$params ? &#039;&#039; : $options[&#039;prepend&#039;] . $params;
		}
		foreach ($params as $key =&gt; $value) {
			if ($next = $this-&gt;_attribute($key, $value, $options)) {
				$result[] = $next;
			}
		}
		return $result ? $options[&#039;prepend&#039;] . implode(&#039; &#039;, $result) . $options[&#039;append&#039;] : &#039;&#039;;
	}

	/**
	 * Convert a key/value pair to a valid HTML attribute.
	 *
	 * @param string $key The key name of the HTML attribute.
	 * @param mixed $value The HTML attribute value.
	 * @param array $options The options used when converting the key/value pair to attributes:
	 *              - `&#039;escape&#039;` _boolean_: Indicates whether `$key` and `$value` should be
	 *                HTML-escaped. Defaults to `true`.
	 *              - `&#039;format&#039;` _string_: The format string. Defaults to `&#039;%s=&quot;%s&quot;&#039;`.
	 * @return string Returns an HTML attribute/value pair, in the form of `&#039;$key=&quot;$value&quot;&#039;`.
	 */
	protected function _attribute($key, $value, array $options = array()) {
		$defaults = array(&#039;escape&#039; =&gt; true, &#039;format&#039; =&gt; &#039;%s=&quot;%s&quot;&#039;);
		$options += $defaults;

		if (in_array($key, $this-&gt;_minimized)) {
			$isMini = ($value === 1 || $value === true || $value === $key);
			if (!($value = $isMini ? $key : $value)) {
				return null;
			}
		}
		$value = (string) $value;

		if ($options[&#039;escape&#039;]) {
			return sprintf($options[&#039;format&#039;], $this-&gt;escape($key), $this-&gt;escape($value));
		}
		return sprintf($options[&#039;format&#039;], $key, $value);
	}
}</code></pre>
					</div>
				</div>
			</section>
							</div>
	</article>			</div>
		</div>
		<footer class="main">
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>

	<div class="social">
		<a href="https://github.com/unionofrad" target="new">GitHub</a>		<span class="separator">/</span>
		<a href="https://twitter.com/unionofrad" target="new">Twitter</a>		<span class="separator">/</span>
		<a href="http://www.reddit.com/r/li3" target="new">Reddit</a>		<span class="separator">/</span>
		<a href="https://stackoverflow.com/questions/tagged/lithium" target="new">Stack Overflow</a>	</div>
	<div class="testimonial">
		<img src="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/img/testimonials/10.png" alt="Testimonial Image" />		<p>I think it's time you started<br />
writing better code.</p>
	</div>
	<div class="copyright">
		Pretty much everything is (c) 2009-2024 and beyond, the <a href="http://unionofrad.org">Union of RAD</a>.	</div>
</footer>	</body>
</body>
</html>
