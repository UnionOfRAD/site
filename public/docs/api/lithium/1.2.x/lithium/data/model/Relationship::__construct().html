<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />	<title>lithium\data\model\Relationship::__construct() – Framework API v1.2.x – Documentation – li3 PHP-Framework</title>
		<link rel="stylesheet" href="../../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/reset.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anonymous+Pro:400,700,400italic,700italic" />
	<link rel="stylesheet" href="../../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/u1m.css" />
	<link rel="stylesheet" href="../../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/li3_docs.css" />
	<link rel="stylesheet" href="../../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/highlight.css" />
	
	
	<script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
	<script src="../../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/js/base.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
	
	
	<link rel="icon" href="../../../../../../../assets/ico/site.png">

		<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-11048416-4', 'auto');
	  ga('send', 'pageview');
	</script>
	</head>
<body class="layout-default li3-docs">
		<div id="container">
			<header class="main">
	<div class="left">
		<h1><a href="../../../../../../../index.html" class="li3-logo">li3</a></h1>
	</div>
	<div class="right">
		<nav class="main-nav"><a href="http://news.li3.me">News</a><a href="../../../../../../../docs.html" class="active">Documentation</a><a href="../../../../../../../versions.html">Versions</a><a href="../../../../../../../present.html">Presentations</a><a href="../../../../../../../support.html">Community</a><a href="../../../../../../../development.html">Development</a></nav>	</div>
</header>							<nav class="crumbs">
	<ul itemscope itemtype="http://schema.org/BreadcrumbList">
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="1" />
							<a href="../../../../../../../docs.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Documentation</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="2" />
							<a href="../../../lithium.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Framework API (1.2.x)</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="3" />
							<a href="../../../lithium.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">lithium</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="4" />
							<a href="../../data.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">data</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="5" />
							<a href="../model.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">model</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="6" />
							<a href="Relationship.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Relationship</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="7" />
							<span itemscope itemprop="item" itemtype="http://schema.org/Thing">
					<span itemprop="name">__construct()</span>
				</span>
					</li>
		</ul>
</nav>						<div id="content">
				<article class="apis-view has-aside-right">

	<nav class="aside aside-right">
			<h3 class="h-gamma">Contents</h3>
		<ul>
			<li class="nav-up"><a href="Relationship.html" rel="up">../</a>		</ul>
	
													
										</nav>
	<div class="body">
			<h1 class="h-alpha">
		<a href="../../../lithium.html" class="symbol-segment">lithium</a>\<a href="../../data.html" class="symbol-segment">data</a>\<a href="../model.html" class="symbol-segment">model</a>\<a href="Relationship.html" class="symbol-segment">Relationship</a>::__construct()		</h1>

		<section class="under">
																<div class="extends">
					<span class="extends__title">
													Overrides
											</span>
					<a href="../../core/ObjectDeprecated::__construct().html" class="extends__symbol">lithium\core\ObjectDeprecated::__construct()</a>				</div>
						<div class="tags">
													<span class="tag public">public</span>
												<span class="tag">method</span>
			</div>
		</section>

					
			<section>
									<div class="summary">
						<p>Constructor. Constructs an object that represents a relationship between two model classes.</p>
					</div>
				
							</section>

						<section id="params">
				<h3 class="h-beta">Parameters</h3>
				<ul class="parameters">
											<li>
							<span class="type">array</span>
							<code class="name">$config</code>
															<span class="parameter">
									<p>The relationship's configuration, which defines how the two models in
question are bound. The available options are:</p>
<ul>
<li><code>'name'</code> <em>string</em>: The name of the relationship in the context of the
originating model. For example, a <code>Posts</code> model might define a relationship to
a <code>Users</code> model like so:
<code>public $hasMany = ['Author' =&gt; ['to' =&gt; 'Users']];</code>
In this case, the relationship is bound to the <code>Users</code> model, but <code>'Author'</code> would
be the relationship name. This is the name with which the relationship is
referenced in the originating model.</li>
<li><code>'key'</code> <em>mixed</em>: An array of fields that define the relationship, where the
keys are fields in the originating model, and the values are fields in the
target model. If the relationship is not defined by keys, this array should be
empty.</li>
<li><code>'type'</code> <em>string</em>: The type of relationship. Should be one of <code>'belongsTo'</code>,
<code>'hasOne'</code> or <code>'hasMany'</code>.</li>
<li><code>'from'</code> <em>string</em>: The fully namespaced class name of the model where this
relationship originates.</li>
<li><code>'to'</code> <em>string</em>: The fully namespaced class name of the model that this
relationship targets.</li>
<li><code>'link'</code> <em>string</em>: A constant specifying how the object bound to the
originating model is linked to the object bound to the target model. For
relational databases, the only valid value is <code>LINK_KEY</code>, which means a foreign
key in one object matches another key (usually the primary key) in the other.
For document-oriented and other non-relational databases, different types of
linking, including key lists, database reference objects (such as MongoDB's
<code>MongoDBRef</code>), or even embedding.</li>
<li><code>'fields'</code> <em>mixed</em>: An array of the subset of fields that should be selected
from the related object(s) by default. If set to <code>true</code> (the default), all
fields are selected.</li>
<li><code>'fieldName'</code> <em>string</em>: The name of the field used when accessing the related
data in a result set. For example, in the case of <code>Posts hasMany Comments</code>, the
field name defaults to <code>'comments'</code>, so comment data is accessed (assuming
<code>$post = Posts::first()</code>) as <code>$post-&gt;comments</code>.</li>
<li><code>'constraints'</code> <em>mixed</em>: A string or array containing additional constraints
on the relationship query. If a string, can contain a literal SQL fragment or
other database-native value. If an array, maps fields from the related object
either to fields elsewhere, or to arbitrary expressions. In either case, <em>the
values specified here will be literally interpreted by the database</em>.</li>
<li><code>'strategy'</code> <em>\Closure</em>: An anonymous function used by an instantiating class,
such as a database object, to provide additional, dynamic configuration, after
the <code>Relationship</code> instance has finished configuring itself.</li>
</ul>
								</span>
													</li>
									</ul>
			</section>
			
						<section id="return">
				<h3 class="h-beta">Returns</h3>
				<span class="type">void</span>
							</section>
			
			
			
			
			
						<section id="source" class="section">
				<h3 class="h-beta">Source</h3>
				<div id="source" class="source-display">
					<div class="source-wrapper">
						<pre class="source-code"><code class="language-php">	public function __construct(array $config = []) {
		$defaults = [
			&#039;name&#039;        =&gt; null,
			&#039;key&#039;         =&gt; [],
			&#039;type&#039;        =&gt; null,
			&#039;to&#039;          =&gt; null,
			&#039;from&#039;        =&gt; null,
			&#039;link&#039;        =&gt; static::LINK_KEY,
			&#039;fields&#039;      =&gt; true,
			&#039;fieldName&#039;   =&gt; null,
			&#039;constraints&#039; =&gt; [],
			&#039;strategy&#039;    =&gt; null
		];
		$config += $defaults;

		if (!$config[&#039;type&#039;] || !$config[&#039;fieldName&#039;]) {
			throw new ConfigException(&quot;`&#039;type&#039;`, `&#039;fieldName&#039;` and `&#039;from&#039;` options can&#039;t be empty.&quot;);
		}
		if (!$config[&#039;to&#039;] &amp;&amp; !$config[&#039;name&#039;]) {
			throw new ConfigException(&quot;`&#039;to&#039;` and `&#039;name&#039;` options can&#039;t both be empty.&quot;);
		}
		parent::__construct($config);
	}</code></pre>
					</div>
				</div>
			</section>
							</div>
	</article>			</div>
		</div>
		<footer class="main">
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>

	<div class="social">
		<a href="https://github.com/unionofrad" target="new">GitHub</a>		<span class="separator">/</span>
		<a href="https://twitter.com/unionofrad" target="new">Twitter</a>		<span class="separator">/</span>
		<a href="http://www.reddit.com/r/li3" target="new">Reddit</a>		<span class="separator">/</span>
		<a href="https://stackoverflow.com/questions/tagged/lithium" target="new">Stack Overflow</a>	</div>
	<div class="testimonial">
		<img src="../../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/img/testimonials/10.png" alt="Testimonial Image" />		<p>I think it's time you started<br />
writing better code.</p>
	</div>
	<div class="copyright">
		Pretty much everything is (c) 2009-2024 and beyond, the <a href="http://unionofrad.org">Union of RAD</a>.	</div>
</footer>	</body>
</body>
</html>
