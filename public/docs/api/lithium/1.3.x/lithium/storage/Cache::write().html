<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />	<title>lithium\storage\Cache::write() – Framework API v1.3.x – Documentation – li3 PHP-Framework</title>
		<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/reset.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anonymous+Pro:400,700,400italic,700italic" />
	<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/u1m.css" />
	<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/li3_docs.css" />
	<link rel="stylesheet" href="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/css/highlight.css" />
	
	
	<script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
	<script src="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/js/base.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
	
	
	<link rel="icon" href="../../../../../../assets/ico/site.png">

		<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-11048416-4', 'auto');
	  ga('send', 'pageview');
	</script>
	</head>
<body class="layout-default li3-docs">
		<div id="container">
			<header class="main">
	<div class="left">
		<h1><a href="../../../../../../index.html" class="li3-logo">li3</a></h1>
	</div>
	<div class="right">
		<nav class="main-nav"><a href="http://news.li3.me">News</a><a href="../../../../../../docs.html" class="active">Documentation</a><a href="../../../../../../versions.html">Versions</a><a href="../../../../../../present.html">Presentations</a><a href="../../../../../../support.html">Community</a><a href="../../../../../../development.html">Development</a></nav>	</div>
</header>							<nav class="crumbs">
	<ul itemscope itemtype="http://schema.org/BreadcrumbList">
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="1" />
							<a href="../../../../../../docs.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Documentation</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="2" />
							<a href="../../lithium.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Framework API (1.3.x)</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="3" />
							<a href="../../lithium.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">lithium</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="4" />
							<a href="../storage.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">storage</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="5" />
							<a href="Cache.html" itemscope itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Cache</span></a>
					</li>
			<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
			<meta itemprop="position" content="6" />
							<span itemscope itemprop="item" itemtype="http://schema.org/Thing">
					<span itemprop="name">write()</span>
				</span>
					</li>
		</ul>
</nav>						<div id="content">
				<article class="apis-view has-aside-right">

	<nav class="aside aside-right">
			<h3 class="h-gamma">Contents</h3>
		<ul>
			<li class="nav-up"><a href="Cache.html" rel="up">../</a>		</ul>
	
													
										</nav>
	<div class="body">
			<h1 class="h-alpha">
		<a href="../../lithium.html" class="symbol-segment">lithium</a>\<a href="../storage.html" class="symbol-segment">storage</a>\<a href="Cache.html" class="symbol-segment">Cache</a>::write()		</h1>

		<section class="under">
															<div class="tags">
													<span class="tag public">public</span>
													<span class="tag">static</span>
								<span class="tag">method</span>
			</div>
		</section>

					
			<section>
									<div class="summary">
						<p>Writes to the specified cache configuration.</p>
					</div>
				
									<div class="description">
						<p>Can handle single- and multi-key writes.</p>
<p>This method has two valid syntaxes depending on if you're storing
data using a single key or multiple keys as outlined below.</p>
<pre><code class="language-php">// To write data to a single-key use the following syntax.
Cache::write('default', 'foo', 'bar', '+1 minute');

// For multi-key writes the $data parameter's role becomes
// the one of the $expiry parameter.
Cache::write('default', ['foo' =&gt; 'bar', ... ], '+1 minute');
</code></pre>
<p>These two calls are synonymical and demonstrate the two
possible ways to specify the expiration time.</p>
<pre><code class="language-php">Cache::write('default', 'foo', 'bar', '+1 minute');
Cache::write('default', 'foo', 'bar', 60);
</code></pre>
					</div>
							</section>

						<section id="params">
				<h3 class="h-beta">Parameters</h3>
				<ul class="parameters">
											<li>
							<span class="type">string</span>
							<code class="name">$name</code>
															<span class="parameter">
									<p>Configuration to be used for writing.</p>
								</span>
													</li>
											<li>
							<span class="type">mixed</span>
							<code class="name">$key</code>
															<span class="parameter">
									<p>Key to uniquely identify the cache entry or an array of key/value pairs
for multi-key writes mapping cache keys to the data to be cached.</p>
								</span>
													</li>
											<li>
							<span class="type">mixed</span>
							<code class="name">$data</code>
															<span class="parameter">
									<p>Data to be cached.</p>
								</span>
													</li>
											<li>
							<span class="type">string|integer</span>
							<code class="name">$expiry</code>
															<span class="parameter">
									<p>A <code>strtotime()</code> compatible cache time. Alternatively an integer
denoting the seconds until the item expires (TTL). If no expiry time is
set, then the default cache expiration time set with the cache adapter
configuration will be used. To persist an item use <code>Cache::PERSIST</code>.</p>
								</span>
													</li>
											<li>
							<span class="type">array</span>
							<code class="name">$options</code>
															<span class="parameter">
									<p>Options for the method and strategies.</p>
<ul>
<li><code>'strategies'</code> <em>boolean</em>: Indicates if strategies should be used,
defaults to <code>true</code>.</li>
<li><code>'conditions'</code> <em>mixed</em>: A function or item that must return or
evaluate to <code>true</code> in order to continue write operation.</li>
</ul>
								</span>
													</li>
									</ul>
			</section>
			
						<section id="return">
				<h3 class="h-beta">Returns</h3>
				<span class="type">boolean</span>
									<span class="return">
						<p><code>true</code> on successful cache write, <code>false</code> otherwise. When writing
multiple items and an error occurs writing any of the items the
whole operation fails and this method will return <code>false</code>.</p>
					</span>
							</section>
			
						<section id="filter" class="flag">
				<h3 class="h-beta">
					Filter
					<nav class="headline-nav">
						<a href="../../../../../book/manual/1.x/common-tasks/filters.html">see how to use filters</a>					</nav>
				</h3>
				<p>
					This method can be filtered.				</p>
			</section>
			
			
			
			
						<section id="source" class="section">
				<h3 class="h-beta">Source</h3>
				<div id="source" class="source-display">
					<div class="source-wrapper">
						<pre class="source-code"><code class="language-php">	public static function write($name, $key, $data = null, $expiry = null, array $options = []) {
		$options += [&#039;conditions&#039; =&gt; null, &#039;strategies&#039; =&gt; true];

		if (is_callable($options[&#039;conditions&#039;]) &amp;&amp; !$options[&#039;conditions&#039;]()) {
			return false;
		}
		try {
			$adapter = static::adapter($name);
		} catch (ConfigException $e) {
			return false;
		}

		if (is_array($key)) {
			$keys = $key;
			$expiry = $data;
		} else {
			$keys = [$key =&gt; $data];
		}

		if ($options[&#039;strategies&#039;]) {
			foreach ($keys as $key =&gt; &amp;$value) {
				$value = static::applyStrategies(__FUNCTION__, $name, $value, [
					&#039;key&#039; =&gt; $key, &#039;class&#039; =&gt; __CLASS__
				]);
			}
		}
		$params = compact(&#039;keys&#039;, &#039;expiry&#039;);

		return Filters::run(get_called_class(), __FUNCTION__, $params, function($params) use ($adapter) {
			return $adapter-&gt;write($params[&#039;keys&#039;], $params[&#039;expiry&#039;]);
		});
	}</code></pre>
					</div>
				</div>
			</section>
							</div>
	</article>			</div>
		</div>
		<footer class="main">
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>
	<div class="area"></div>

	<div class="social">
		<a href="https://github.com/unionofrad" target="new">GitHub</a>		<span class="separator">/</span>
		<a href="https://twitter.com/unionofrad" target="new">Twitter</a>		<span class="separator">/</span>
		<a href="http://www.reddit.com/r/li3" target="new">Reddit</a>		<span class="separator">/</span>
		<a href="https://stackoverflow.com/questions/tagged/lithium" target="new">Stack Overflow</a>	</div>
	<div class="testimonial">
		<img src="../../../../../../assets/v:__PROJECT_VERSION_BUILD__xyzz/img/testimonials/10.png" alt="Testimonial Image" />		<p>I think it's time you started<br />
writing better code.</p>
	</div>
	<div class="copyright">
		Pretty much everything is (c) 2009-2024 and beyond, the <a href="http://unionofrad.org">Union of RAD</a>.	</div>
</footer>	</body>
</body>
</html>
